<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Thathsavi ‚ù§Ô∏è (Private)</title>
<style>
  :root{
    --bg1:#0b0710;
    --accent:#ff4da6;
    --card-bg:rgba(255,255,255,0.03);
    --muted:rgba(255,255,255,0.88);
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#fff;background:
    linear-gradient(180deg,#120316 0,#2b0718 100%);-webkit-font-smoothing:antialiased;overflow:hidden}
  /* Password screen */
  #pw-screen{
    position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;
    background:linear-gradient(135deg,#ffd7ea 0,#ff6aa9 100%);z-index:9999;padding:28px;
  }
  #pw-screen h1{color:#111;margin:0;font-size:1.6rem}
  #pw-input{padding:12px 14px;border-radius:10px;border:none;width:320px;text-align:center;font-size:16px}
  #pw-btn{padding:10px 16px;border-radius:10px;border:none;background:#111;color:var(--accent);cursor:pointer;font-weight:600}
  #pw-note{font-size:13px;color:#222;background:#fff;padding:6px 10px;border-radius:8px}

  /* App layout */
  #app{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;visibility:hidden}

  /* Title screen (after password) */
  #title-screen{display:none;flex-direction:column;align-items:center;justify-content:center;gap:12px;text-align:center}
  #title-screen h2{font-size:2.2rem;letter-spacing:0.6px;margin:0;text-shadow:0 6px 30px rgba(255,77,166,0.16)}
  #title-screen p{color:var(--muted);margin-top:6px}

  /* Card */
  .card{width:min(860px,92%);height:min(540px,66vh);border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 20px 60px rgba(0,0,0,0.7);overflow:hidden}
  .card-inner{width:calc(100% - 48px);height:calc(100% - 48px);display:flex;align-items:center;justify-content:center;border-radius:14px;position:relative;background:rgba(0,0,0,0.18)}
  .card img{max-width:100%;max-height:100%;object-fit:contain;border-radius:10px;box-shadow:0 12px 40px rgba(0,0,0,0.6);
    transition: transform .72s cubic-bezier(.2,.9,.2,1), filter .5s;pointer-events:none;user-select:none}
  .card .text-slide{width:90%;max-width:820px;color:var(--muted);font-size:1.05rem;line-height:1.7;white-space:pre-wrap;text-align:left;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px}

  /* transform classes */
  .effect-0{transform:translateY(0) scale(1) rotate(0deg)}
  .effect-1{transform:translateY(-8px) scale(1.03) rotate(-1deg)}
  .effect-2{transform:translateX(8px) scale(1.04) rotate(1deg)}
  .effect-3{transform:translateY(6px) scale(1.02) rotate(-0.6deg)}
  .effect-4{transform:translateX(-6px) scale(1.05) rotate(0.8deg)}
  .effect-5{transform:translateY(-10px) scale(1.06) rotate(-1.2deg)}
  .effect-6{transform:translateX(10px) scale(1.04) rotate(1.4deg)}
  .effect-7{transform:translateY(8px) scale(1.03) rotate(-0.8deg)}

  /* nav buttons */
  .nav{position:absolute;top:50%;transform:translateY(-50%);width:56px;height:56px;border-radius:12px;border:none;background:rgba(0,0,0,0.36);backdrop-filter:blur(6px);
    display:flex;align-items:center;justify-content:center;color:#fff;font-size:22px;cursor:pointer;z-index:10}
  .nav:active{transform:translateY(-50%) scale(.98)}
  #prev{left:14px} #next{right:14px}

  /* controls row */
  .controls{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:10px}
  .btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);cursor:pointer}
  #page-info{min-width:160px;text-align:center;color:var(--muted)}

  /* typing caret for message */
  .typing-caret{border-right:3px solid rgba(255,255,255,0.9);padding-right:4px}

  /* message screen (final) */
  #message-screen{display:none;position:fixed;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.72), rgba(10,2,10,0.92));z-index:9998;display:flex;align-items:center;justify-content:center;padding:34px}
  #message-card{width:min(980px,96%);max-height:86vh;overflow:auto;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:26px;border-radius:12px;box-shadow:0 30px 70px rgba(0,0,0,0.6)}
  #message-area{color:#fff;font-size:1rem;line-height:1.8;white-space:pre-wrap;font-family:Georgia, 'Times New Roman', serif}

  @media (max-width:720px){
    .card{height:58vh}
    #pw-input{width:200px}
    #page-info{min-width:110px;font-size:14px}
    .card .text-slide{font-size:0.95rem}
  }
</style>
</head>
<body>

  <!-- Password screen -->
  <div id="pw-screen" role="dialog" aria-modal="true">
    <h1>Private ‚Äî Enter Password</h1>
    <input id="pw-input" type="password" placeholder="Enter password" autocomplete="off" />
    <div style="display:flex;gap:10px;align-items:center">
      <button id="pw-btn">Enter</button>
    </div>
    <div id="pw-note">(Keep it private)</div>
  </div>

  <!-- Application -->
  <div id="app" aria-hidden="true">

    <!-- Title screen (immediately after password) -->
    <div id="title-screen" style="display:none;">
      <h2 id="title-text">Happy Birthday Thathsavi ‚ù§Ô∏è</h2>
      <p style="color:var(--muted)">Wishing you a wonderful year ahead ‚ú®</p>
      <div style="margin-top:10px">
        <button class="btn" id="start-images-btn">Show Photos</button>
      </div>
    </div>

    <!-- Card viewer -->
    <div class="card" id="card">
      <div class="card-inner">
        <!-- image OR text slide will be injected here -->
        <img id="slide-img" src="" alt="photo" draggable="false" style="display:none" />
        <div id="slide-text" class="text-slide" style="display:none"></div>
      </div>
      <button class="nav" id="prev" title="Previous (Left)">&larr;</button>
      <button class="nav" id="next" title="Next (Right)">&rarr;</button>
    </div>

    <div class="controls">
      <button class="btn" id="first-btn">First</button>
      <div id="page-info">Slide 0 / 0</div>
      <button class="btn" id="last-btn">Last</button>
      <button class="btn" id="play-all-btn">Play All Slides</button>
    </div>

  </div>

  <!-- final message screen (alternative/overlay) -->
  <div id="message-screen" role="dialog" aria-modal="true">
    <div id="message-card">
      <div id="message-area"></div>
    </div>
  </div>

<script>
/* ========== CONFIG ========== */
/* Image filenames (11) - ensure these exist in assets/ exactly */
const imageFiles = [
  'assets/photo1.jpg',
  'assets/photo2.jpg',
  'assets/photo3.jpg',
  'assets/photo4.jpg',
  'assets/photo5.jpg',
  'assets/photo6.jpg',
  'assets/photo7.jpg',
  'assets/photo8.jpg',
  'assets/photo9.jpg',
  'assets/photo10.jpg',
  'assets/photo11.jpg'
];

const PASSWORD = "I AM IDIOT";

/* The long message (we split into two slides below) */
const longMessage = `Hi Thathsavi Happy Birthday Rah‚ù§Ô∏è It's Being 18 months rah neetho e travelling life long gurthu untundhi. Na Life lo okka wonder nuvvu since 5th April 2024 Mana bond Start ayindhi . Normal gah ne untundhi kavachu bond ani anukunna ,Kani intha thrilling gah intha happy gah neetho untta ani aaa roju assalu expect cheyya ledhu. Avnu naaku jealous akkuvane but adhi ninnu addukovli ani kaadhu ninnu protect cheyyali ani. Because vere abbayilu ala unttaro naaku telsu. And Nuv Bayataku velladam vellaka povadam ni istam ,but appudu msg chesthu undi Cheppa kunda pothe atu poynav anukovali. And nuvvu bayataku poyyi m sakkaga kuuda undavu gah atu etu dhunukuthu pothavu first jagrathaga povadam nerchuko. And nenu avvaritho matladaku ani cheppatle but neeku problem kaliginche  vallatho matladadam anavasaram adhi ardham chesuko. Evvi Anni Eroju nundi ayna ardham chesukuntte manchidhi. 
Evvi Anni pakkana pedithe Mana bond antte naaku chaala istam . Andharini pakkana pettali anipinche antha. Neeku ala undhi naaku telidhu kani naaku inthe. "Hi" nundi start ayyi "GM GN" dhaaka vachindhi sounds good anukovali. Every day calls msgs everything makes me feel good üòä. But mana madhya konni konni misunderstandings vallla manam bhadha paddam vere persons valla kuuda konni sarlu baadha paddam. Kani last ki malli manane unnam edhi matram nijanga wonder anukovali 
22 nd december roju "nuv naaku vadhu Abhi Ani annav" kani malli almost December vachindhi eppudu nene kaavali ani unnav I m so happy about it.
Edhe the time changes antte. Nenu neeku eche value eppatiki ayna ardham chesuko and ONCE AGAIN HAPPY BIRTHDAY RAH ‚ò∫Ô∏èüòö.. LIFE LONG ELA NEE UNDALI ANI ANUKUNTTU UNTTTA...HAVE A GREAT YEAR RAH ‚ò∫Ô∏è IDIOT üòµ‚Äçüí´ HAVE A BEAUTIFUL DAY TOO..Smile Everyday.. Everytime..In Any situation ‚ù§Ô∏è have a wonderful üòä Time and Smile In Your Face 
Love You ra pottilu ‚ù§Ô∏è My Best Best Best Friend For Ever ra cutie üòäü•∞........09 NOVEMBER 2025`;

/* split the long message into two roughly equal parts for two text slides */
function splitMessageIntoTwo(msg){
  const words = msg.split(/\s+/);
  const half = Math.ceil(words.length/2);
  const part1 = words.slice(0,half).join(' ');
  const part2 = words.slice(half).join(' ');
  return [part1, part2];
}
const [messagePart1, messagePart2] = splitMessageIntoTwo(longMessage);

/* Build slides array in order:
   0: title screen (handled separately)
   1..11: images (imageFiles)
   12: messagePart1 (text slide)
   13: messagePart2 (text slide)
*/
const slides = imageFiles.map(src => ({type:'image', src}))
  .concat([
    {type:'text', text: messagePart1},
    {type:'text', text: messagePart2}
]);

/* ========== UI references ========== */
const pwScreen = document.getElementById('pw-screen');
const pwInput = document.getElementById('pw-input');
const pwBtn = document.getElementById('pw-btn');

const app = document.getElementById('app');
const titleScreen = document.getElementById('title-screen');
const startImagesBtn = document.getElementById('start-images-btn');

const slideImg = document.getElementById('slide-img');
const slideText = document.getElementById('slide-text');
const prevBtn = document.getElementById('prev');
const nextBtn = document.getElementById('next');
const firstBtn = document.getElementById('first-btn');
const lastBtn = document.getElementById('last-btn');
const pageInfo = document.getElementById('page-info');
const playAllBtn = document.getElementById('play-all-btn');
const messageScreen = document.getElementById('message-screen');
const messageArea = document.getElementById('message-area');

/* state */
let currentIndex = -1; // -1 = title screen; 0..slides.length-1 are slides
let typingTimer = null;

/* ========== FUNCTIONS ========== */

function showTitleScreen(){
  titleScreen.style.display = 'flex';
  document.getElementById('card').style.display = 'none';
  document.querySelector('.controls').style.display = 'none';
}

/* show slide by index (0..slides.length-1) */
function showSlide(i){
  // clamp
  if(i < 0) i = 0;
  if(i >= slides.length) i = slides.length - 1;
  currentIndex = i;
  // show card area
  document.getElementById('card').style.display = 'block';
  document.querySelector('.controls').style.display = 'flex';
  // stop typing if any
  clearTyping();
  // update page info
  pageInfo.textContent = `Slide ${currentIndex+1} / ${slides.length}`;
  const s = slides[currentIndex];
  if(s.type === 'image'){
    // show image element
    slideText.style.display = 'none';
    slideImg.style.display = 'block';
    // set image with small cache-bust to avoid stale upload artifacts
    const base = s.src;
    const url = base + (base.includes('?') ? '&_cb=' + Date.now() : '?_cb=' + Date.now());
    slideImg.style.opacity = '0';
    slideImg.src = url;
    slideImg.alt = `Photo ${currentIndex+1}`;
    slideImg.onload = () => {
      slideImg.style.opacity = '1';
      slideImg.style.filter = 'none';
      applyTransformClass(slideImg, currentIndex);
    };
    slideImg.onerror = () => {
      // fallback message
      slideImg.style.display = 'none';
      slideText.style.display = 'block';
      slideText.textContent = `Unable to load image ${currentIndex+1}`;
    };
  } else if(s.type === 'text'){
    // show text slide
    slideImg.style.display = 'none';
    slideText.style.display = 'block';
    slideText.textContent = ''; // will be typed
    applyTransformClass(slideText, currentIndex);
    // start typing for this text slide
    startTypingForText(s.text, slideText);
  }
}

/* small helper to apply transform class to element */
function applyTransformClass(el, idx){
  // remove existing effect classes
  for(let n=0;n<8;n++) el.classList.remove('effect-'+n);
  const cls = 'effect-' + (idx % 8);
  el.classList.add(cls);
}

/* navigation */
prevBtn.addEventListener('click', ()=> {
  if(currentIndex > 0) showSlide(currentIndex - 1);
});
nextBtn.addEventListener('click', ()=> {
  if(currentIndex < slides.length - 1) showSlide(currentIndex + 1);
  else {
    // finished all slides; show message screen (final two text slides are part of slides array; after they finish nothing else)
    // keep at last slide
  }
});
firstBtn.addEventListener('click', ()=> showSlide(0));
lastBtn.addEventListener('click', ()=> showSlide(slides.length - 1));
playAllBtn.addEventListener('click', ()=> showSlide(0));

/* keyboard support */
document.addEventListener('keydown', (e)=>{
  if(pwScreen.style.display !== 'none') return;
  if(e.key === 'ArrowLeft') prevBtn.click();
  if(e.key === 'ArrowRight') nextBtn.click();
});

/* mobile swipe */
let tStartX = 0;
document.querySelector('.card-inner').addEventListener('touchstart', e => { tStartX = e.touches[0].clientX; }, {passive:true});
document.querySelector('.card-inner').addEventListener('touchend', e => {
  const x = e.changedTouches[0].clientX;
  const d = x - tStartX;
  if(Math.abs(d) > 40) {
    if(d > 0) prevBtn.click(); else nextBtn.click();
  }
}, {passive:true});

/* typing for text slides with realistic delays */
function startTypingForText(text, el){
  el.textContent = '';
  el.classList.add('typing-caret');
  let i = 0;
  function step(){
    if(i >= text.length){
      el.classList.remove('typing-caret');
      return;
    }
    const ch = text[i++];
    el.textContent += ch;
    let delay = Math.random()*60 + 30; // 30..90ms base
    if(ch === ',' ) delay += 120;
    if(ch === '.' || ch === '!' || ch === '?') delay += 300;
    if(ch === '\n') delay += 40;
    typingTimer = setTimeout(step, delay);
  }
  step();
}
function clearTyping(){
  if(typingTimer) { clearTimeout(typingTimer); typingTimer = null; }
  // remove caret from text container if any
  slideText.classList.remove('typing-caret');
}

/* Password handling and sequence start */
pwBtn.addEventListener('click', tryPassword);
pwInput.addEventListener('keydown', e => { if(e.key === 'Enter') tryPassword(); });

function tryPassword(){
  const v = pwInput.value.trim();
  if(v === PASSWORD){
    pwScreen.style.display = 'none';
    app.style.visibility = 'visible';
    // show title screen first
    titleScreen.style.display = 'flex';
    document.getElementById('card').style.display = 'none';
    document.querySelector('.controls').style.display = 'none';
  } else {
    alert('Wrong password ‚Äî try again.');
    pwInput.value = '';
    pwInput.focus();
  }
}

/* start images button from title screen */
startImagesBtn.addEventListener('click', ()=> {
  titleScreen.style.display = 'none';
  document.getElementById('card').style.display = 'block';
  document.querySelector('.controls').style.display = 'flex';
  // start at first image (index 0)
  showSlide(0);
});

/* Preload images (light) */
(function preload(){
  imageFiles.forEach(s => { const im = new Image(); im.src = s; });
})();

/* Protections (best-effort) */
document.addEventListener('contextmenu', e => e.preventDefault());
document.addEventListener('dragstart', e => { if(e.target.tagName === 'IMG' || e.target.tagName === 'VIDEO') e.preventDefault(); }, false);
document.addEventListener('keydown', e => {
  if((e.ctrlKey || e.metaKey) && (e.key.toLowerCase()==='s' || e.key.toLowerCase()==='u' || e.key === 'F12')) { e.preventDefault(); alert('This content is private.'); }
  if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'p'){ e.preventDefault(); alert('Printing disabled.'); }
});
document.addEventListener('keyup', e => {
  if(e.key === 'PrintScreen' || e.keyCode === 44){
    const overlay = document.createElement('div');
    overlay.style.position='fixed'; overlay.style.inset='0'; overlay.style.zIndex='99999';
    overlay.style.backdropFilter='blur(6px)'; overlay.style.background='rgba(0,0,0,0.35)';
    overlay.style.display='flex'; overlay.style.alignItems='center'; overlay.style.justifyContent='center';
    overlay.style.color='white'; overlay.style.fontSize='18px'; overlay.textContent='Screen capture detected ‚Äî private content.';
    document.body.appendChild(overlay); setTimeout(()=> overlay.remove(), 1200);
    try{ navigator.clipboard && navigator.clipboard.writeText(''); } catch(e){}
  }
});

/* initialize: hide app until password accepted */
app.style.visibility = 'hidden';
</script>
</body>
</html>
